<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="keywords" content="HTML CSS JS Budget Planner" />
    <meta name="description" content="Budget Planner using HTML CSS JS" />
    <meta name="author" content="Soham Manjrekar" />
    <title>Budget Planner</title>
    <link rel="icon" type="image/x-icon" href="/images/logo.png">
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,700|Roboto:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <style>
        /* Basic styles */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f4f7fa;
            color: #333;
        }

        .hero_area {
            background-color: #00aaff;
            padding: 30px 0;
            color: white;
        }

        .header_section {
            text-align: center;
        }

        .balance-container {
            margin: 20px 0;
            text-align: center;
        }

        .balance {
            font-size: 2rem;
            font-weight: 600;
        }

        .inc-exp-container {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }

        .inc-exp-container div {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            width: 45%;
            text-align: center;
        }

        .category-container {
            display: flex;
            flex-direction: column;
            margin-top: 20px;
        }

        .category-item {
            background-color: #fff;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .category-item p {
            margin: 5px 0;
        }

        .category-item span {
            font-weight: 700;
        }

        .category-item .remove-btn {
            color: red;
            cursor: pointer;
            font-weight: bold;
        }

        .category-input {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border-radius: 5px;
            border: 1px solid #ddd;
            font-size: 1rem;
        }

        .category-btn {
            padding: 8px 20px;
            background-color: #00aaff;
            border: none;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }

        .category-btn:hover {
            background-color: #0088cc;
        }

        #notification {
            background-color: #f5b7b1;
            color: #721c24;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }
    </style>
</head>

<body>
    <div class="hero_area">
        <header class="header_section">
            <h1>Budget Planner</h1>
            <p>Plan your income and track expenses by categories</p>
        </header>
    </div>

    <section class="service_section layout_padding">
        <div class="container">
            <!-- Balance Section -->
            <div class="balance-container">
                <h2>Your Balance</h2>
                <h2 id="balance" class="balance">₹0.00</h2>
            </div>

            <!-- Income and Remaining Section -->
            <div class="inc-exp-container">
                <div>
                    <h4>Income</h4>
                    <p id="income-amount">₹0.00</p>
                </div>
                <div>
                    <h4>Remaining</h4>
                    <p id="remaining-amount">₹0.00</p>
                </div>
            </div>

            <!-- Income Form -->
            <h3>Add Income</h3>
            <form id="income-form" class="my-2">
                <input type="number" id="income" class="category-input" placeholder="Enter your income" required />
                <button type="submit" class="category-btn">Add Income</button>
            </form>

            <div id="notification">Please add an income first!</div>

            <!-- Category Form -->
            <h3>Set your budget categories</h3>
            <form id="category-form">
                <input type="text" id="category-name" class="category-input" placeholder="Category name" required />
                <input type="number" id="category-budget" class="category-input" placeholder="Budget amount" required />
                <button type="submit" class="category-btn">Add Category</button>
            </form>

            <!-- Category List -->
            <div id="category-list" class="category-container"></div>
        </div>
    </section>

    <section class="container-fluid footer_section">
        <p>&copy; 2025 All Rights Reserved By <a href="">WebStudio</a></p>
    </section>

    <script type="text/javascript">
        const incomeForm = document.getElementById('income-form');
        const categoryForm = document.getElementById('category-form');
        const incomeInput = document.getElementById('income');
        const categoryNameInput = document.getElementById('category-name');
        const categoryBudgetInput = document.getElementById('category-budget');
        const balance = document.getElementById('balance');
        const incomeAmount = document.getElementById('income-amount');
        const remainingAmount = document.getElementById('remaining-amount');
        const categoryList = document.getElementById('category-list');
        const notification = document.getElementById('notification');
    
        let income = 0; // This will remain constant
let remainingBalance = 0; // Tracks remaining balance
let categories = [];

// Add Income
incomeForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const incomeValue = parseFloat(incomeInput.value);
    if (incomeValue <= 0) {
        notification.textContent = 'Please enter a valid income amount!';
        notification.style.display = 'block';
    } else {
        income = incomeValue; // Set the constant income value
        remainingBalance = income; // Initialize remaining balance to income
        updateBalance(); // Update display
        incomeInput.value = ''; // Clear the input
        notification.style.display = 'none';
    }
});

// Add Category
categoryForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const categoryName = categoryNameInput.value;
    const categoryBudget = parseFloat(categoryBudgetInput.value);

    if (!categoryName || categoryBudget <= 0) {
        notification.textContent = 'Please provide a valid category and budget!';
        notification.style.display = 'block';
    } else {
        const category = {
            id: generateID(),
            name: categoryName,
            budget: categoryBudget,
            spent: 0,
        };
        categories.push(category);
        remainingBalance -= categoryBudget; // Reduce remaining balance
        addCategoryToDOM(category); // Add category to the DOM
        categoryNameInput.value = '';
        categoryBudgetInput.value = '';
        updateBalance(); // Update display
        notification.style.display = 'none';
    }
});

// Remove Category
function removeCategory(id) {
    const categoryToRemove = categories.find(category => category.id === id);
    if (categoryToRemove) {
        remainingBalance += categoryToRemove.budget; // Restore the budget back to remaining balance
        categories = categories.filter(category => category.id !== id); // Remove the category
        renderCategories(); // Re-render the categories
        updateBalance(); // Update display
    }
}

// Render Categories
function renderCategories() {
    categoryList.innerHTML = '';
    categories.forEach(category => {
        const categoryItem = document.createElement('div');
        categoryItem.classList.add('category-item');
        categoryItem.innerHTML = `
            <p>${category.name} - ₹<span>${category.budget}</span></p>
            <p>Spent: ₹<span>${category.spent}</span> 
                <button onclick="removeCategory(${category.id})" class="remove-btn">Remove</button>
            </p>
            <input type="number" class="category-input" value="${category.spent}" 
            onchange="updateCategoryExpense(${category.id}, parseFloat(this.value))" />
        `;
        categoryList.appendChild(categoryItem);
    });
}

// Update Remaining Balance (Dynamic Calculation)
function updateRemainingIncome(amount) {
    remainingBalance -= amount; // Adjust remaining balance
    updateBalance(); // Update display
}

// Update Balance
function updateBalance() {
    balance.innerText = `₹${remainingBalance.toFixed(2)}`; // Display remaining balance
    incomeAmount.innerText = `₹${income.toFixed(2)}`; // Display constant income
    remainingAmount.innerText = `₹${remainingBalance.toFixed(2)}`; // Display remaining balance
}

// Generate ID for category
function generateID() {
    return Math.floor(Math.random() * 1000000);
}

    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
